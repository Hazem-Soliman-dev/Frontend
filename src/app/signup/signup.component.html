<!-- signup.component.html -->
<div class="signup-container">
  <div class="signup-box">
    <h1>Sign Up</h1>
    <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm)">
      <div class="form-group">
        <label for="name">Full Name</label>
        <input
          type="text"
          #username="ngModel"
          name="username"
          [(ngModel)]="user.username"
          required
          minlength="3"
          placeholder="Name"
        />
        <div
          class="vaild"
          *ngIf="
            myForm.controls['username']?.invalid &&
            myForm.controls['username']?.touched
          "
        >
          <small *ngIf="myForm.controls['username']?.errors?.['required']"
            >Username is required.</small
          >
          <small *ngIf="myForm.controls['username']?.errors?.['minlength']"
            >Username must be at least 3 characters.</small
          >
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input
          type="email"
          #email="ngModel"
          name="email"
          [(ngModel)]="user.email"
          required
          email
          placeholder="Email"
        />
        <div
          class="vaild"
          *ngIf="
            myForm.controls['email']?.invalid &&
            myForm.controls['email']?.touched
          "
        >
          <small *ngIf="myForm.controls['email']?.errors?.['required']"
            >Email is required.</small
          >
          <small *ngIf="myForm.controls['email']?.errors?.['email']"
            >Invalid email format.</small
          >
        </div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input
          type="password"
          #password="ngModel"
          name="password"
          [(ngModel)]="user.password"
          required
          minlength="6"
          placeholder="Password"
        />
        <div
          class="vaild"
          *ngIf="
            myForm.controls['password']?.invalid &&
            myForm.controls['password']?.touched
          "
        >
          <small *ngIf="myForm.controls['password']?.errors?.['required']"
            >Password is required.</small
          >
          <small *ngIf="myForm.controls['password']?.errors?.['minlength']"
            >Password must be at least 6 characters.</small
          >
        </div>
      </div>

      <div class="form-group">
        <label for="confirm-password">Confirm Password</label>
        <input
          id="confirmPassword"
          name="confirmPassword"
          [(ngModel)]="user.confirmPassword"
          placeholder="confirmPassword"
          required
        />
        <div
          class="vaild"
          *ngIf="user.password !== user.confirmPassword && myForm.submitted"
        >
          <small>Passwords do not match.</small>
        </div>
      </div>

      <div class="form-group">
        <label for="phone">Phone</label>
        <input
          type="text"
          #phone="ngModel"
          name="phone"
          [(ngModel)]="user.phone"
          required
          pattern="^\d{10}$"
          placeholder="phone"
        />
        <div
          class="vaild"
          *ngIf="
            myForm.controls['phone']?.invalid &&
            myForm.controls['phone']?.touched
          "
        >
          <small *ngIf="myForm.controls['phone']?.errors?.['required']"
            >Phone is required.</small
          >
          <small *ngIf="myForm.controls['phone']?.errors?.['pattern']"
            >Phone must be 10 digits.</small
          >
        </div>
      </div>

      <div class="form-group">
        <label for="address">Address</label>
        <input
          type="text"
          #address="ngModel"
          name="address"
          [(ngModel)]="user.address"
          required
          minlength="10"
          placeholder="address"
        />
        <div
          class="vaild"
          *ngIf="
            myForm.controls['address']?.invalid &&
            myForm.controls['address']?.touched
          "
        >
          <small *ngIf="myForm.controls['address']?.errors?.['required']"
            >Address is required.</small
          >
          <small *ngIf="myForm.controls['address']?.errors?.['minlength']"
            >Address must be at least 10 characters.</small
          >
        </div>
        <input
          type="text"
          #userType="ngModel"
          name="userType"
          ngModel
          placeholder="userType"
        />
      </div>

      <button type="submit" [disabled]="myForm.invalid" class="signup-btn">
        Sign Up
      </button>

      <div class="login-link">
        <p>Already have an account? <a href="/login">Login here</a></p>
      </div>
    </form>
  </div>
</div>
